---
import "../styles/global.css";

interface Props {
    title: string;
    description?: string;
}

const { title, description = "Slow Learner Quest" } = Astro.props;
const isDev = import.meta.env.DEV;
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="Slow Learner Quest RSS Feed"
            href="/rss.xml"
        />
        <title>{title}</title>
        {description && <meta name="description" content={description} />}

        <script async src="https://plausible.io/js/pa-Z3u6Sa3r17addqGSBqL6a.js"
        ></script>
        <script>
            ((window.plausible =
                window.plausible ||
                function () {
                    (plausible.q = plausible.q || []).push(arguments);
                }),
                (plausible.init =
                    plausible.init ||
                    function (i) {
                        plausible.o = i || {};
                    }));
            plausible.init();
        </script>
    </head>
    <body class="bg-gray-50 text-gray-900">
        {
            isDev && (
                <div class="bg-yellow-100 border-b-2 border-yellow-400 text-yellow-900 px-4 py-2 text-center text-sm font-medium">
                    ðŸš§ Development Mode - Draft posts visible
                </div>
            )
        }
        <div class="max-w-3xl mx-auto px-4 py-8">
            <header class="mb-12">
                <h1 class="text-3xl font-bold mb-2">
                    <a href="/" class="hover:text-blue-600"
                        >Slow Learner Quest</a
                    >
                </h1>
                <nav class="text-sm text-gray-600">
                    <a href="/" class="hover:text-blue-600 mr-4">Home</a>
                    <a href="/tags" class="hover:text-blue-600 mr-4">Tags</a>
                    {
                        isDev && (
                            <a
                                href="/drafts"
                                class="hover:text-blue-600 mr-4 text-yellow-700 font-medium"
                            >
                                Drafts
                            </a>
                        )
                    }
                    <a href="/series" class="hover:text-blue-600 mr-4">Series</a
                    >
                    <a href="/rss.xml" class="hover:text-blue-600">RSS</a>
                </nav>
            </header>
            <main>
                <slot />
            </main>
            <footer
                class="mt-16 pt-8 border-t border-gray-200 text-sm text-gray-600"
            >
                <p>&copy; {new Date().getFullYear()} Slow Learner Quest</p>
            </footer>
        </div>
    </body>
</html>
