---
import sanitizeHtml from "sanitize-html";
import Base from "../layouts/base.astro";

const posts = Object.values(
    import.meta.glob("../pages/writing/*.md", { eager: true }),
);
posts.sort(
    (a, b) =>
        Date.parse(b.frontmatter.published_date) -
        Date.parse(a.frontmatter.published_date),
);
---
<Base>
    <main class="main-block">

        <h1>Blog Archive</h1>
        <ul>
            {
                posts.map((post) => (
                        <li>
                            <a href={post.url}>
                                {sanitizeHtml(post.frontmatter.title)}
                            </a>
                        </li>
                ))
            }
        </ul>
    </main>
</Base>
